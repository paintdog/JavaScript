<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Titel</title>
  </head>
  <body>
      <p id="summary">Ein einfaches <b>Pairs-Spiel</b>.</p>
    
      <table>
      <tr>
          <td><img id="0" src="0.png" /></td>
          <td><img id="1" src="0.png" /></td>
          <td><img id="2" src="0.png" /></td>
          <td><img id="3" src="0.png" /></td>
      </tr>
      <tr>
          <td><img id="4" src="0.png" /></td>
          <td><img id="5" src="0.png" /></td>
          <td><img id="6" src="0.png" /></td>
          <td><img id="7" src="0.png" /></td>
      </tr>
      </table>
      
      <p id="attempts">Versuche: 0</p>
      
      <p><span id="restart" style="border: 2px solid Lime; background: Green; color: White; padding: 5px;">Neustarten</span> </p>
      
      <script>
          
          let counter = 0;
          let attempts = 0;
          
          let aufgedeckt = [false, false, false, false, false, false, false, false]; // aufgedeckt == gelöst (!!!)
          
          
          // Prüfung eines Paares
          let gepruefte_karten = [undefined, undefined];
          let gepruefte_karten_position = 0;
          
          console.log("Aufgedeckte Karte 0: " + gepruefte_karten[0]);
          console.log("Aufgedeckte Karte 1: " + gepruefte_karten[1]);
          
          
          let karten = [1,2,3,4,1,2,3,4];
          karten.sort(() => Math.random() - 0.5);
          
          console.log("Karte: " + karten);
          
          // Nachfolgender Code-Block ist überflüssig und sollte gelöscht werden
          console.log("Karte 0: " + karten[0]);
          console.log("Karte 1: " + karten[1]);
          console.log("Karte 2: " + karten[2]);
          console.log("Karte 3: " + karten[3]);
          console.log("Karte 4: " + karten[4]);
          console.log("Karte 5: " + karten[5]);
          console.log("Karte 6: " + karten[6]);
          console.log("Karte 7: " + karten[7]);
        
          picture_0 = document.getElementById("0");
          picture_1 = document.getElementById("1");
          picture_2 = document.getElementById("2");
          picture_3 = document.getElementById("3");
          picture_4 = document.getElementById("4");
          picture_5 = document.getElementById("5");
          picture_6 = document.getElementById("6");
          picture_7 = document.getElementById("7");
          neustart  = document.getElementById("restart");

          picture_0.addEventListener("click", change_picture_0);
          picture_1.addEventListener("click", change_picture_1);
          picture_2.addEventListener("click", change_picture_2);
          picture_3.addEventListener("click", change_picture_3);
          picture_4.addEventListener("click", change_picture_4);
          picture_5.addEventListener("click", change_picture_5);
          picture_6.addEventListener("click", change_picture_6);
          picture_7.addEventListener("click", change_picture_7);
          neustart.addEventListener("click", restart);
          
          function change_picture_0() {
              console.log("Werte bei den geprüften Karten: ", gepruefte_karten[0], gepruefte_karten[1]);
              
              if (picture_0.getAttribute('src') == karten[0] + '.png') {
                  // Karte ist schon aufgedeckt
                  return 0;
              }
              
              if (counter == 2) {
                  alles_zudecken();
                  counter = 0;
              }  
              
              if (picture_0.getAttribute('src') == "0.png") {
                  picture_0.src = karten[0] + ".png";
                  counter += 1;
                  console.log("Counter: " + counter);
                  
                  gepruefte_karten[gepruefte_karten_position] = 0;
                  if (karten[gepruefte_karten[0]] == karten[gepruefte_karten[1]]) {
                      console.log("Ich habe die Karten mit den folgenden Werten geprüft: ", gepruefte_karten[0], gepruefte_karten[1]);
                      aufgedeckt[gepruefte_karten[0]] = true;
                      aufgedeckt[gepruefte_karten[1]] = true;
                  }
                  gepruefte_karten_position += 1
                  if (gepruefte_karten_position == 2) {
                      gepruefte_karten = [undefined, undefined];
                      gepruefte_karten_position = 0;
                  }
                  
              } else {
                  picture_0.src = "0.png"; 
              }
              attempts += 1;
              document.getElementById("attempts").innerHTML = "Versuche: " + Math.floor(attempts / 2);
          }
          
          
          function change_picture_1() {
              console.log("Werte bei den geprüften Karten: ", gepruefte_karten[0], gepruefte_karten[1]);
              
              if (picture_1.getAttribute('src') == karten[1] + '.png') {
                  return 0;
              }
              if (counter == 2) {
                  alles_zudecken();
                  counter = 0;
              }              
              if (picture_1.getAttribute('src') == "0.png") {
                  picture_1.src = karten[1] + ".png";
                  counter += 1;
                  console.log("Counter: " + counter);
                  
                  gepruefte_karten[gepruefte_karten_position] = 1;
                  if (karten[gepruefte_karten[0]] == karten[gepruefte_karten[1]]) {
                      console.log("Ich habe die Karten mit den folgenden Werten geprüft: ", gepruefte_karten[0], gepruefte_karten[1]);
                      aufgedeckt[gepruefte_karten[0]] = true;
                      aufgedeckt[gepruefte_karten[1]] = true;
                  }
                  gepruefte_karten_position += 1
                  if (gepruefte_karten_position == 2) {
                      gepruefte_karten = [undefined, undefined];
                      gepruefte_karten_position = 0;
                  }
                  
              } else {
                  picture_1.src = "0.png"; 
              }
              attempts += 1;
              document.getElementById("attempts").innerHTML = "Versuche: " + Math.floor(attempts / 2);
          }
          
          
          function change_picture_2() {
              console.log("Werte bei den geprüften Karten: ", gepruefte_karten[0], gepruefte_karten[1]);
              
              if (picture_2.getAttribute('src') == karten[2] + '.png') {
                  return 0;
              }
              if (counter == 2) {
                  alles_zudecken();
                  counter = 0;
              }    
              if (picture_2.getAttribute('src') == "0.png") {
                  picture_2.src = karten[2] + ".png";
                  counter += 1;
                  console.log("Counter: " + counter);
                  
                  gepruefte_karten[gepruefte_karten_position] = 2;
                  if (karten[gepruefte_karten[0]] == karten[gepruefte_karten[1]]) {
                      console.log("Ich habe die Karten mit den folgenden Werten geprüft: ", gepruefte_karten[0], gepruefte_karten[1]);
                      aufgedeckt[gepruefte_karten[0]] = true;
                      aufgedeckt[gepruefte_karten[1]] = true;
                  }
                  gepruefte_karten_position += 1
                  if (gepruefte_karten_position == 2) {
                      gepruefte_karten = [undefined, undefined];
                      gepruefte_karten_position = 0;
                  }
                  
              } else {
                  picture_2.src = "0.png"; 
              }
              attempts += 1;
              document.getElementById("attempts").innerHTML = "Versuche: " + Math.floor(attempts / 2);
          }
          
          
          function change_picture_3() {
              console.log("Werte bei den geprüften Karten: ", gepruefte_karten[0], gepruefte_karten[1]);
              
              if (picture_3.getAttribute('src') == karten[3] + '.png') {
                  return 0;
              }
              if (counter == 2) {
                  alles_zudecken();
                  counter = 0;
              }    
              if (picture_3.getAttribute('src') == "0.png") {
                  picture_3.src = karten[3] + ".png";
                  counter += 1;
                  console.log("Counter: " + counter);
                  
                  gepruefte_karten[gepruefte_karten_position] = 3;
                  if (karten[gepruefte_karten[0]] == karten[gepruefte_karten[1]]) {
                      console.log("Ich habe die Karten mit den folgenden Werten geprüft: ", gepruefte_karten[0], gepruefte_karten[1]);
                      aufgedeckt[gepruefte_karten[0]] = true;
                      aufgedeckt[gepruefte_karten[1]] = true;
                  }
                  gepruefte_karten_position += 1
                  if (gepruefte_karten_position == 2) {
                      gepruefte_karten = [undefined, undefined];
                      gepruefte_karten_position = 0;
                  }
                  
              } else {
                  picture_3.src = "0.png"; 
              }
              attempts += 1;
              document.getElementById("attempts").innerHTML = "Versuche: " + Math.floor(attempts / 2);
          }
          
          
          function change_picture_4() {
              console.log("Werte bei den geprüften Karten: ", gepruefte_karten[0], gepruefte_karten[1]);
              
              if (picture_4.getAttribute('src') == karten[4] + '.png') {
                  return 0;
              }
              if (counter == 2) {
                  alles_zudecken();
                  counter = 0;
              }    
              if (picture_4.getAttribute('src') == "0.png") {
                  picture_4.src = karten[4] + ".png";
                  counter += 1;
                  console.log("Counter: " + counter);
                  
                  gepruefte_karten[gepruefte_karten_position] = 4;
                  if (karten[gepruefte_karten[0]] == karten[gepruefte_karten[1]]) {
                      console.log("Ich habe die Karten mit den folgenden Werten geprüft: ", gepruefte_karten[0], gepruefte_karten[1]);
                      aufgedeckt[gepruefte_karten[0]] = true;
                      aufgedeckt[gepruefte_karten[1]] = true;
                  }
                  gepruefte_karten_position += 1
                  if (gepruefte_karten_position == 2) {
                      gepruefte_karten = [undefined, undefined];
                      gepruefte_karten_position = 0;
                  }
                  
              } else {
                  picture_4.src = "0.png"; 
              }
              attempts += 1;
              document.getElementById("attempts").innerHTML = "Versuche: " + Math.floor(attempts / 2);
          }

          
          function change_picture_5() {
              console.log("Werte bei den geprüften Karten: ", gepruefte_karten[0], gepruefte_karten[1]);
              
              if (picture_5.getAttribute('src') == karten[5] + '.png') {
                  return 0;
              }
              if (counter == 2) {
                  alles_zudecken();
                  counter = 0;
              }              
              if (picture_5.getAttribute('src') == "0.png") {
                  picture_5.src = karten[5] + ".png";
                  counter += 1;
                  console.log("Counter: " + counter);
                  
                  gepruefte_karten[gepruefte_karten_position] = 5;
                  if (karten[gepruefte_karten[0]] == karten[gepruefte_karten[1]]) {
                      console.log("Ich habe die Karten mit den folgenden Werten geprüft: ", gepruefte_karten[0], gepruefte_karten[1]);
                      aufgedeckt[gepruefte_karten[0]] = true;
                      aufgedeckt[gepruefte_karten[1]] = true;
                  }
                  gepruefte_karten_position += 1
                  if (gepruefte_karten_position == 2) {
                      gepruefte_karten = [undefined, undefined];
                      gepruefte_karten_position = 0;
                  }
                  
              } else {
                  picture_5.src = "0.png"; 
              }
              attempts += 1;
              document.getElementById("attempts").innerHTML = "Versuche: " + Math.floor(attempts / 2);
          }
          
          
          function change_picture_6() {
              console.log("Werte bei den geprüften Karten: ", gepruefte_karten[0], gepruefte_karten[1]);
              
              if (picture_6.getAttribute('src') == karten[6] + '.png') {
                  return 0;
              }
              if (counter == 2) {
                  alles_zudecken();
                  counter = 0;
              }    
              if (picture_6.getAttribute('src') == "0.png") {
                  picture_6.src = karten[6] + ".png";
                  counter += 1;
                  console.log("Counter: " + counter);
                  
                  gepruefte_karten[gepruefte_karten_position] = 6;
                  if (karten[gepruefte_karten[0]] == karten[gepruefte_karten[1]]) {
                      console.log("Ich habe die Karten mit den folgenden Werten geprüft: ", gepruefte_karten[0], gepruefte_karten[1]);
                      aufgedeckt[gepruefte_karten[0]] = true;
                      aufgedeckt[gepruefte_karten[1]] = true;
                  }
                  gepruefte_karten_position += 1
                  if (gepruefte_karten_position == 2) {
                      gepruefte_karten = [undefined, undefined];
                      gepruefte_karten_position = 0;
                  }
                  
              } else {
                  picture_6.src = "0.png"; 
              }
              attempts += 1;
              document.getElementById("attempts").innerHTML = "Versuche: " + Math.floor(attempts / 2);
          }
          
          
          function change_picture_7() {
              console.log("Werte bei den geprüften Karten: ", gepruefte_karten[0], gepruefte_karten[1]);
              
              if (picture_7.getAttribute('src') == karten[7] + '.png') {
                  return 0;
              }
              if (counter == 2) {
                  alles_zudecken();
                  counter = 0;
              }    
              if (picture_7.getAttribute('src') == "0.png") {
                  picture_7.src = karten[7] + ".png";
                  counter += 1;
                  console.log("Counter: " + counter);
                  
                  gepruefte_karten[gepruefte_karten_position] = 7;
                  if (karten[gepruefte_karten[0]] == karten[gepruefte_karten[1]]) {
                      console.log("Ich habe die Karten mit den folgenden Werten geprüft: ", gepruefte_karten[0], gepruefte_karten[1]);
                      aufgedeckt[gepruefte_karten[0]] = true;
                      aufgedeckt[gepruefte_karten[1]] = true;
                  }
                  gepruefte_karten_position += 1
                  if (gepruefte_karten_position == 2) {
                      gepruefte_karten = [undefined, undefined];
                      gepruefte_karten_position = 0;
                  }
                  
              } else {
                  picture_7.src = "0.png"; 
              }
              attempts += 1;
              document.getElementById("attempts").innerHTML = "Versuche: " + Math.floor(attempts / 2);
          }
          
          
          function restart() {
              
              karten.sort(() => Math.random() - 0.5);
              console.log("Karte: " + karten);
              
              aufgedeckt = [false, false, false, false, false, false, false, false];
              
              picture_0.src = "0.png";
              picture_1.src = "0.png";
              picture_2.src = "0.png";
              picture_3.src = "0.png";
              picture_4.src = "0.png";
              picture_5.src = "0.png";
              picture_6.src = "0.png";
              picture_7.src = "0.png";
              
              attempts = 0;
              document.getElementById("attempts").innerHTML = "Versuche: 0";
          }
          
          
          function alles_zudecken() {
              if (aufgedeckt[0] != true) { picture_0.src = "0.png"; }
              if (aufgedeckt[1] != true) { picture_1.src = "0.png"; }
              if (aufgedeckt[2] != true) { picture_2.src = "0.png"; }
              if (aufgedeckt[3] != true) { picture_3.src = "0.png"; }
              if (aufgedeckt[4] != true) { picture_4.src = "0.png"; }
              if (aufgedeckt[5] != true) { picture_5.src = "0.png"; }
              if (aufgedeckt[6] != true) { picture_6.src = "0.png"; }
              if (aufgedeckt[7] != true) { picture_7.src = "0.png"; }
          }
          
          
      </script>
  </body>
</html>